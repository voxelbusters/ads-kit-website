"use strict";(self.webpackChunkdocusaurus_client=self.webpackChunkdocusaurus_client||[]).push([[137],{2451:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>d,toc:()=>l});var i=t(5893),s=t(1151);const o={},a="Sample Code",d={id:"usage/sample-code",title:"Sample Code",description:"Below is a concise example demonstrating  the usage:",source:"@site/docs/03-usage/06-sample-code.md",sourceDirName:"03-usage",slug:"/usage/sample-code",permalink:"/usage/sample-code",draft:!1,unlisted:!1,editUrl:"https://github.com/voxelbusters/ads-kit-website/tree/main/docs/03-usage/06-sample-code.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"event-handling",permalink:"/usage/event-handling"},next:{title:"No Code Solution",permalink:"/no-code-solution"}},r={},l=[];function c(e){const n={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"sample-code",children:"Sample Code"}),"\n",(0,i.jsx)(n.p,{children:"Below is a concise example demonstrating  the usage:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Import required namespaces"}),"\n",(0,i.jsx)(n.li,{children:"Initialization of the AdsKit with user consent."}),"\n",(0,i.jsx)(n.li,{children:"Registering event listeners for ad lifecycle events."}),"\n",(0,i.jsx)(n.li,{children:"Loading and showing ads with placement Ids."}),"\n",(0,i.jsx)(n.li,{children:"Implementing callbacks for successful and failed ad operations."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'// Import required namespaces\nusing VoxelBusters.CoreLibrary;\nusing VoxelBusters.AdsKit;\n\n// Implement IAdLifecycleEventListener to listen for ad related events\npublic class AdsManager : MonoBehaviour, IAdLifecycleEventListener\n{\n    private void OnEnable()\n    {\n        AdsManager.RegisterListener(this);\n    }\n\n    private void OnDisable()\n    {\n        AdsManager.UnregisterListener(this);\n    }\n\n    private void Start()\n    {\n        InitializeAds();\n    }\n\n    public void InitializeAds(Action<bool> onComplete)\n    {\n       // This could be a default provider or your own custom implementation\n        IConsentFormProvider consentProvider = AdServices.GetConsentFormProvider();\n        var operation = AdsManager.Initialise(consentProvider);\n        operation.OnComplete += (result) =>\n        {\n            Debug.Log("Initialisation complete! Now start loading/displaying the ads.");\n            bool success = (result.InvalidNetworks.Length == 0);\n            onComplete?.Invoke(success);\n        };\n    }\n\n    // Get ad placement Id from Ad Placements section of General section in AdsKitSettings.\n    public void LoadAd(string placementId)\n    {\n        AdsManager.LoadAd(placementId);\n    }\n\n    // Get ad placement Id from Ad Placements section of General section in AdsKitSettings.\n    private void ShowAd(string placementId)\n    {\n        AdsManager.ShowAd(placementId);\n    }\n\n    // Get ad placement Id from Ad Placements section of General section in AdsKitSettings.\n    private void HideAd(string placementId)\n    {\n        // HideAd only applicable to Banner Ad Type alone.\n        AdsManager.HideAd(placementId, destroy: false);\n    }\n\n    #region IAdLifecycleEventListener implementation\n\n    public void OnInitialisationComplete(InitialiseResult result)\n    {\n\u2003\u2003    Debug.Log("AdsKit is initialised successfully.");\n    }\n\n    public void OnInitialisationFail(Error error)\n    {\n\u2003\u2003    Debug.Log($"AdsKit failed to initialise with error {error}.");\n    }\n\n    public void OnLoadAdComplete(string placementId, LoadAdResult result)\n    {\n\u2003\u2003    Log($"AdsKit has successfully loaded ad for placementId: {placementId}.");\n    }\n\n    public void OnLoadAdFail(string placementId, Error error)\n    {\n\u2003\u2003    Debug.Log($"AdsKit has failed to load ad for placementId: {placementId} with error: {error}.");\n    }\n\n    public void OnShowAdStart(string placementId)\n    {\n\u2003\u2003    Debug.Log($"AdsKit has started showing ad for placementId: {placementId}.");\n    }    \n\n    public void OnShowAdClick(string placementId)\n    {\n\u2003\u2003    Debug.Log($"AdsKit has recognised click on ad for placementId: {placementId}.");\n    }\n\n    public void OnShowAdComplete(string placementId, ShowAdResult result)\n    {\n\u2003\u2003    Debug.Log($"AdsKit has completed showing ad for placementId: {placementId} with result: {result}.");\n    }\n\n    public void OnShowAdFail(string placementId, Error error)\n    {\n\u2003\u2003    Debug.Log($"AdsKit has failed to show ad for placementId: {placementId} with Error: {error}.");\n    }\n\n    public void OnAdImpressionRecorded(string placementId)\n    {\n\u2003\u2003    Debug.Log($"AdsKit has recorded impression for ad for placementId: {placementId}.");\n    }\n\n    public void OnAdPaid(string placementId, AdTransaction transaction)\n    {\n\u2003\u2003    Debug.Log($"AdsKit has recorded pay for ad: {placementId} with transaction: {transaction}.");\n    }\n\n    #endregion\n}\n\n\n'})}),"\n",(0,i.jsxs)(n.p,{children:["In this example,\xa0",(0,i.jsx)(n.code,{children:"AdsManager"}),"\xa0is a MonoBehaviour that initializes the AdsKit when the game starts. It registers itself as an\xa0",(0,i.jsx)(n.code,{children:"IAdLifecycleEventListener"}),"\xa0to handle ad events."]})]})}function p(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>d,a:()=>a});var i=t(7294);const s={},o=i.createContext(s);function a(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);